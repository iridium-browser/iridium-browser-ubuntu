<link rel="import" href="chrome://resources/html/action_link.html">
<link rel="import" href="chrome://resources/html/cr.html">
<link rel="import" href="chrome://resources/html/polymer.html">
<link rel="import" href="chrome://resources/cr_elements/cr_expand_button/cr_expand_button.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-collapse/iron-collapse.html">
<link rel="import" href="chrome://resources/html/web_ui_listener_behavior.html">
<link rel="import" href="/search_engines_page/search_engines_browser_proxy.html">
<link rel="import" href="/search_engines_page/search_engine_dialog.html">
<link rel="import" href="/search_engines_page/search_engines_list.html">
<link rel="import" href="/search_engines_page/omnibox_extension_entry.html">
<link rel="import" href="/settings_shared_css.html">

<dom-module id="settings-search-engines-page">
  <link rel="import" type="css" href="chrome://resources/css/action_link.css">
  <template>
    <style include="settings-shared">
      :host {
        --search-engines-list-item-vertical-space: 8px;
        --search-engines-list-margin: 0 40px;
      }
      .label {
        margin: 20px;
      }
      .extension-engines {
        margin: var(--search-engines-list-margin);
      }
    </style>
    <div>
      <div class="label">$i18n{searchEnginesDefault}</div>
      <settings-search-engines-list engines="[[defaultEngines]]">
      </settings-search-engines-list>
    </div>
    <template is="dom-if" if="[[showAddSearchEngineDialog_]]" restamp>
      <settings-search-engine-dialog></settings-search-engine-dialog>
    </template>
    <div>
      <div class="label">$i18n{searchEnginesOther}</div>
      <!-- TODO(dbeam): why does on-click work with keyboard but on-tap
           doesn't? -->
      <settings-search-engines-list engines="[[otherEngines]]">
        <a is="action-link" on-tap="onAddSearchEngineTap_" id="addSearchEngine">
            $i18n{searchEnginesAddSearchEngine}</a>
      </settings-search-engines-list>

      <template is="dom-if" if="[[showExtensionsList_]]">
        <div class="label">$i18n{searchEnginesExtension}</div>
        <iron-list items="[[extensions]]" class="extension-engines" selectable>
          <template>
            <settings-omnibox-extension-entry engine="[[item]]"
                tabindex$="[[tabIndex]]">
            </settings-omnibox-extension-entry>
          </template>
        </iron-list>
      </template>
    </div>
  </template>
  <script src="search_engines_page.js"></script>
</dom-module>
