<link rel="import" href="chrome://resources/cr_elements/icons.html">
<link rel="import" href="chrome://resources/html/polymer.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/route.html">
<link rel="import" href="/settings_shared_css.html">

<dom-module id="settings-user-list">
  <template>
    <style include="settings-shared">
      .user-list {
        /* 4 users (the extra 1px is to account for the border-bottom) */
        max-height: calc(4 * (var(--settings-row-two-line-min-height) + 1px));
        overflow-y: auto;
      }

      .user {
        border-bottom: var(--settings-separator-line);
      }

      .user-icon {
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        border-radius: 20px;
        flex-shrink: 0;
        height: 40px;
        width: 40px;
      }

      .user-info {
        -webkit-padding-start: 16px;
      }
    </style>
    <div class="user-list">
      <template is="dom-repeat" items="[[users_]]">
        <div class="user layout horizontal center two-line">
          <img class="user-icon" src="[[getProfilePictureUrl_(item.name)]]">
          <div class="flex user-info">
            <div>
              [[item.name]]
              <span hidden="[[!item.isOwner]]">$i18n{deviceOwnerLabel}</span>
            </div>
            <div class="secondary">[[item.email]]</div>
          </div>
          <paper-icon-button icon="cr:clear" class="clear-icon"
              on-tap="removeUser_"
              hidden="[[shouldHideCloseButton_(disabled, item.isOwner)]]">
          </paper-icon-button>
        </div>
      </template>
    </div>
  </template>
  <script src="user_list.js"></script>
</dom-module>
